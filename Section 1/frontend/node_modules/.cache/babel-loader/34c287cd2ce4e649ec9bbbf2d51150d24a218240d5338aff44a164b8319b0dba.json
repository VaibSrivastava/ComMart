{"ast":null,"code":"var _jsxFileName = \"F:\\\\Mini Project\\\\frontendd\\\\frontend\\\\src\\\\UserContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StoreContext = /*#__PURE__*/createContext();\nexport const StoreProvider = ({\n  children\n}) => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    localStorage.setItem('cartItems', JSON.stringify(cartItems));\n  }, [cartItems]);\n  const addItemToCart = item => {\n    const exist = cartItems.find(cartItem => cartItem._id === item._id);\n    if (exist) {\n      setCartItems(cartItems.map(cartItem => cartItem._id === item._id ? {\n        ...exist,\n        quantity: exist.quantity + 1\n      } : cartItem));\n      return;\n    }\n    setCartItems([...cartItems, {\n      ...item,\n      quantity: 1\n    }]);\n    // localStorage.setItem('cartItems', JSON.stringify(cartItems));\n  };\n\n  const removeItemFromCart = item => {\n    const exist = cartItems.find(cartItem => cartItem._id === item._id);\n    if (exist.quantity === 1) {\n      setCartItems(cartItems.filter(cartItem => cartItem._id !== item._id));\n      localStorage.setItem('cartItems', JSON.stringify(cartItems));\n    } else {\n      setCartItems(cartItems.map(cartItem => cartItem._id === item._id ? {\n        ...exist,\n        quantity: exist.quantity - 1\n      } : cartItem));\n      // localStorage.setItem('cartItems', JSON.stringify(cartItems));\n    }\n  };\n\n  const clearCart = () => {\n    setCartItems([]);\n    // localStorage.setItem('cartItems', JSON.stringify(cartItems));\n  };\n\n  const isInCart = item => {\n    return cartItems.find(cartItem => cartItem._id === item._id);\n  };\n  const getCartTotal = () => {\n    return cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n  };\n  const getCartItemsCount = () => {\n    return cartItems.reduce((acc, item) => acc + item.quantity, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: {\n      cartItems,\n      addItemToCart,\n      removeItemFromCart,\n      clearCart,\n      isInCart,\n      getCartTotal,\n      getCartItemsCount\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n_s(StoreProvider, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n_c = StoreProvider;\nconst useStoreContext = () => {\n  _s2();\n  return useContext(StoreContext);\n};\n_s2(useStoreContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport default useStoreContext;\nvar _c;\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","jsxDEV","_jsxDEV","StoreContext","StoreProvider","children","_s","cartItems","setCartItems","localStorage","setItem","JSON","stringify","addItemToCart","item","exist","find","cartItem","_id","map","quantity","removeItemFromCart","filter","clearCart","isInCart","getCartTotal","reduce","acc","price","getCartItemsCount","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useStoreContext","_s2","$RefreshReg$"],"sources":["F:/Mini Project/frontendd/frontend/src/UserContext.jsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nconst StoreContext = createContext();\r\n\r\nexport const StoreProvider = ({children}) => {\r\n    \r\n    const [cartItems, setCartItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n    }, [cartItems])\r\n    \r\n\r\n    const addItemToCart = (item) => {\r\n        const exist = cartItems.find((cartItem) => cartItem._id === item._id);\r\n        if (exist) {\r\n            setCartItems(\r\n                cartItems.map((cartItem) =>\r\n                    cartItem._id === item._id ? { ...exist, quantity: exist.quantity + 1 } : cartItem\r\n                )\r\n            );\r\n            return;\r\n\r\n        }\r\n        setCartItems([...cartItems, { ...item, quantity: 1 }]);\r\n        // localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n\r\n    };\r\n\r\n    const removeItemFromCart = (item) => {\r\n        const exist = cartItems.find((cartItem) => cartItem._id === item._id);\r\n        if (exist.quantity === 1){\r\n            setCartItems(cartItems.filter((cartItem) => cartItem._id !== item._id));\r\n            localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n        } else {\r\n            setCartItems(\r\n                cartItems.map((cartItem) =>\r\n                    cartItem._id === item._id ? { ...exist, quantity: exist.quantity - 1 } : cartItem\r\n                )\r\n            );\r\n            // localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n        }\r\n    };\r\n\r\n    const clearCart = () => {\r\n        setCartItems([]);\r\n        // localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n    };\r\n\r\n    const isInCart = (item) => {\r\n        return cartItems.find((cartItem) => cartItem._id === item._id);\r\n    };\r\n\r\n    const getCartTotal = () => {\r\n        return cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n    };\r\n\r\n    const getCartItemsCount = () => {\r\n        return cartItems.reduce((acc, item) => acc + item.quantity, 0);\r\n    };\r\n    \r\n    return (\r\n        <StoreContext.Provider value={{\r\n            cartItems,\r\n            addItemToCart,\r\n            removeItemFromCart,\r\n            clearCart,\r\n            isInCart,\r\n            getCartTotal,\r\n            getCartItemsCount\r\n        }}>\r\n        {children}\r\n        </StoreContext.Provider>\r\n    )\r\n}\r\n\r\nconst useStoreContext = () => useContext(StoreContext);\r\n\r\nexport default useStoreContext;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}